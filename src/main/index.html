<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='stylesheet' type='text/css' href='../../assets/css/bootstrap.css'>
    <link rel='stylesheet' type='text/css' href='../../assets/css/shared.css'>
    <link rel='stylesheet' type='text/css' href='index.css'>
    <title>unrestrict.me Client</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <img src="../../assets/icons/logo.svg">
    </nav>
    <div id="disconnected" class="container prompt">
        <h1>Welcome.</h1>
        <p>We're ready to connect. Click the button below to begin.</p>
        <div id="connectButtons">
            <button type="button" class="btn btn-primary btn-lg" id="connect">Connect to unrestrict.me</button>
            <button type="button" class="btn btn-secondary btn-lg" data-toggle="modal" data-target="#settings">Settings</button>
            <div id="backgroundProcessStart" style="display: none;" class="alert alert-dismissible alert-secondary">
                <b>Warning: </b><p stlye="display: inline">We need your permission to start the background process. Without it, we'll be running in <a href="#" data-toggle="modal" data-target="#limitedFunctionality">limited functionality mode.</a></p>
                <button type="button" class="btn btn-success" id="startBackgroundProcess">Start Background Process</button>
            </div>
        </div>
        <div id="loading1" style="display:none;">
            <div class="alert alert-dismissible alert-secondary">
                <strong>(1) Creating request.</strong> <p>We're generating a unique request ID for you now. Please wait. You'll be redirected to a webpage for you to choose your preferred location.</p>
            </div>
        </div>
        <div id="loading2" style="display:none;">
            <div class="alert alert-dismissible alert-success">
                <strong>(2) Request created.</strong> <p>Please complete the connection in your browser. Once you've selected a location, we'll automatically connect.</p>
                <div class="container">
                    <div class="row">
                        <div class="col-sm">
                            <button id="reopenBrowser" type="button" class="btn btn-primary btn-lg btn-block">Open locations</button>
                        </div>
                        <div class="col-sm">
                            <button id="cancelRequest" type="button" class="btn btn-danger btn-lg btn-block">Cancel request</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="loading3" style="display:none;">
            <div class="alert alert-dismissible alert-success">
                <strong>(3) Location selected.</strong> <p>We're now connecting you to unrestrict.me. The connection should complete momentarily.</p>
                <button id="cancelConnection" type="button" class="btn btn-danger btn-lg btn-block">Cancel connection</button>
            </div>
        </div>
    </div>
    <div id="connected" class="container prompt" style="display: none">
        <h1>Browsing securely.</h1>
        <p>Your traffic is currently being routed through unrestrict.me.</p>
        <div id="disconnectButtons" class="disconnectButtons">
            <button type="button" class="btn btn-danger btn-lg" id="disconnect">Disconnect from unrestrict.me</button>
            <button type="button" class="btn btn-secondary btn-lg" data-toggle="modal" data-target="#settings">Settings</button>
        </div>
        <div class="alert alert-dismissible alert-secondary">
            <b>Your IP: </b><p id="placeholderIP" style="display: inline"></p><br>
            <b>Your Connection ID: </b><p id="placeholderConnectionID" style="display: inline"></p><br>
            <b>Time Remaining: </b><p id="placeholderTimeRemaining" style="display: inline"></p>
        </div>
    </div>
    <div id="updating" class="container prompt" style="display: none">
        <h1>Your client is updating.</h1>
        <p>Please wait. This should only take a moment. Your client may restart.</p>
    </div>
    <div id="killSwitch" class="container prompt" style="display: none">
        <h1>Kill Switch Failsafe Active</h1>
        <p>Due to an unknown reason connection to unrestrict.me has been dropped. To prevent possible snooping and IP leaks we've disabled your connection to the internet.</p>
        <button type="button" class="btn btn-danger btn-lg" id="disableKillSwitch">Disable Kill Switch</button>
    </div>
    <div class="modal fade" id="settings" tabindex="-1" role="dialog" aria-labelledby="settings" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Settings</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>unrestrict.me should work 'out of the box', and modifying these settings isn't necessary for the average user. If anything breaks, click "Reset Config".</p>
                <h5>Client Version</h5>
                <p id="clientVersion"></p>
                <h5>Kill Switch NIC</h5>
                <div id="killSwitchLimitedFunctionality">
                    <p>Select the adapter from the list below you wish to have disabled when connection is lost to unrestrict.me. By default we try to determine this automatically.</p>
                    <div id="adapterWait">
                        <p>Please wait. We're getting a list of available adapters.</p>
                    </div>
                    <div class="form-group" id="adapterDiv" style="display:none;">
                        <select class="form-control" id="adapterSelect">
                            <option value="-1">Detect Automatically</option>
                        </select>
                    </div>
                </div>
                <p id="killSwitchLimitedFunctionalityNote" style="display: none;">Your client is currently running in limited functionality mode, and as such this feature is disabled.</p>
                <h5>Custom API Server</h5>
                <p>Input a custom API server for unrestrict.me to send requests.</p>
                <div class="input-group mb-3">
                    <input id="customAPI" type="text" class="form-control" placeholder="https://...">
                    <div class="input-group-append">
                        <button id="customAPISubmit" class="btn btn-outline-secondary" type="button">Save</button>
                    </div>
                    <div class="input-group-append">
                        <button id="customAPIClear" class="btn btn-outline-danger" type="button">Clear</button>
                    </div>
                </div>
                <h5>Custom Webpage</h5>
                <p>Input a custom webpage for unrestrict.me to navigate you to complete the connection.</p>
                <div class="input-group mb-3">
                    <input id="customWebpage" type="text" class="form-control" placeholder="https://...">
                    <div class="input-group-append">
                        <button id="customWebpageSubmit" class="btn btn-outline-secondary" type="button">Save</button>
                    </div>
                    <div class="input-group-append">
                        <button id="customWebpageClear" class="btn btn-outline-danger" type="button">Clear</button>
                    </div>
                </div>
                <h5>Regenerate RSA Keypair</h5>
                <p>This option regenerates the stored RSA keypair. Any pending connections will be impossible to complete.</p>
                <button type="button" class="btn btn-danger" id="rsa_regen">Regenerate RSA Keypair</button>
                <h5>Reset Config</h5>
                <p>This option resets unrestrict.me to default settings.</p>
                <button type="button" class="btn btn-danger" id="reset">Reset Config</button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="timeRemainingFaq" tabindex="-1" role="dialog" aria-labelledby="timeRemainingFaq" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">What does "Time Remaining" mean?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>You are <b>not</b> limited in the amount of time you can spend connected to the unrestrict.me network as a <i>whole</i>. Connections expire to prevent leachers soaking up bandwidth without giving anything back to the network. If your connection expires before you disconnect the fail safe <b>will be engaged</b>.</p>
                <p>You are free to reconnect even if your connection does expire. We do not cross check new connections with old ones.</p>
                <p>This policy simply allows unrestrict.me to be as equal as possible for all users.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="legal" tabindex="-1" role="dialog" aria-labelledby="legal" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Legal</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>unrestrict.me is an Electron application built using open source Node.js modules. Electron is a trademark of Github, Inc. Node.js is a registered trademark of Joyent, Inc. The unrestrict.me application is licensed under the GNU AGPLv3 template. unrestrict.me uses technology developed by OpenVPN Inc., and any associated "OpenVPN" trademarks are the property of OpenVPN Inc.</p>
                <p>By using this application you agree to the Terms and Conditions of the unrestrict.me service located <a id="openLegalExternal" href="#">here</a>.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="limitedFunctionality" tabindex="-1" role="dialog" aria-labelledby="limitedFunctionality" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Limited Functionality Mode</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Your client is running in limited functionality mode. This means that whilst it will still function as a VPN the kill switch feature is disabled.</p>
                <p>This is due to the client requiring user authorisation to modify network settings, which is unrealistic as a kill switch needs to be triggered immediately on an unintentional disconnect from unrestrict.me.</p>
                <p>Other aspects which are usually seemless such as connecting to unrestrict.me may require user authorisation.</p>
                <u>To disable limited functionality mode:</u> <p style="display: inline;"> Run the AppImage as root/sudo.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <p>&copy unrestrict.me <script type="text/javascript">document.write(new Date().getFullYear());</script>. | <a data-toggle="modal" href="#legal">Legal</a></p>
    </div>
</body>
<script>
    require('./index.js')
    require('../../assets/css/bootstrap.bundle.min.js')
</script>
</html>